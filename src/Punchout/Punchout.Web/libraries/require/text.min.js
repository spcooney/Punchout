define(["module"],function(n){"use strict";var t,o,f,r,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u=typeof location!="undefined"&&location.href,l=u&&location.protocol&&location.protocol.replace(/\:/,""),a=u&&location.hostname,v=u&&(location.port||undefined),e={},i=n.config&&n.config()||{};return t={version:"2.0.7",strip:function(n){if(n){n=n.replace(h,"");var t=n.match(c);t&&(n=t[1])}else n="";return n},jsEscape:function(n){return n.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:i.createXhr||function(){var t,n,i;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n+=1){i=s[n];try{t=new ActiveXObject(i)}catch(r){}if(t){s=[i];break}}return t},parseName:function(n){var r,u,i,f=!1,t=n.indexOf("."),e=n.indexOf("./")===0||n.indexOf("../")===0;return t!==-1&&(!e||t>1)?(r=n.substring(0,t),u=n.substring(t+1,n.length)):r=n,i=u||r,t=i.indexOf("!"),t!==-1&&(f=i.substring(t+1)==="strip",i=i.substring(0,t),u?u=i:r=i),{moduleName:r,ext:u,strip:f}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(n,i,r,u){var e,f,o,s=t.xdRegExp.exec(n);return s?(e=s[2],f=s[3],f=f.split(":"),o=f[1],f=f[0],(!e||e===i)&&(!f||f.toLowerCase()===r.toLowerCase())&&(!o&&!f||o===u)):!0},finishLoad:function(n,r,u,f){u=r?t.strip(u):u;i.isBuild&&(e[n]=u);f(u)},load:function(n,r,f,e){if(e.isBuild&&!e.inlineText){f();return}i.isBuild=e.isBuild;var o=t.parseName(n),s=o.moduleName+(o.ext?"."+o.ext:""),h=r.toUrl(s),c=i.useXhr||t.useXhr;!u||c(h,l,a,v)?t.get(h,function(i){t.finishLoad(n,o.strip,i,f)},function(n){f.error&&f.error(n)}):r([s],function(n){t.finishLoad(o.moduleName+"."+o.ext,o.strip,n,f)})},write:function(n,i,r){if(e.hasOwnProperty(i)){var u=t.jsEscape(e[i]);r.asModule(n+"!"+i,"define(function () { return '"+u+"';});\n")}},writeFile:function(n,i,r,u,f){var e=t.parseName(i),o=e.ext?"."+e.ext:"",s=e.moduleName+o,h=r.toUrl(e.moduleName+o)+".js";t.load(s,r,function(){var i=function(n){return u(h,n)};i.asModule=function(n,t){return u.asModule(n,h,t)};t.write(n,s,i,f)},f)}},i.env!=="node"&&(i.env||typeof process=="undefined"||!process.versions||!process.versions.node)?i.env==="xhr"||!i.env&&t.createXhr()?t.get=function(n,r,u,f){var e=t.createXhr(),o;if(e.open("GET",n,!0),f)for(o in f)f.hasOwnProperty(o)&&e.setRequestHeader(o.toLowerCase(),f[o]);if(i.onXhr)i.onXhr(e,n);e.onreadystatechange=function(){var t,f;if(e.readyState===4&&(t=e.status,t>399&&t<600?(f=new Error(n+" HTTP status: "+t),f.xhr=e,u(f)):r(e.responseText),i.onXhrComplete))i.onXhrComplete(e,n)};e.send(null)}:i.env!=="rhino"&&(i.env||typeof Packages=="undefined"||typeof java=="undefined")?(i.env==="xpconnect"||!i.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)&&(f=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t.get=function(n,t){var i,u,o={},e=new FileUtils.File(n);try{i=f["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream);i.init(e,1,0,!1);u=f["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream);u.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);u.readString(i.available(),o);u.close();i.close();t(o.value)}catch(s){throw new Error((e&&e.path||"")+": "+s);}}):t.get=function(n,t){var r,i,e=new java.io.File(n),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),f="";try{for(r=new java.lang.StringBuffer,i=u.readLine(),i&&i.length()&&i.charAt(0)===65279&&(i=i.substring(1)),i!==null&&r.append(i);(i=u.readLine())!==null;)r.append(o),r.append(i);f=String(r.toString())}finally{u.close()}t(f)}:(o=require.nodeRequire("fs"),t.get=function(n,t,i){try{var r=o.readFileSync(n,"utf8");r.indexOf("﻿")===0&&(r=r.substring(1));t(r)}catch(u){i(u)}}),t})