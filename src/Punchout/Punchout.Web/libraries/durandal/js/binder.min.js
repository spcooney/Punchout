define(["durandal/system","knockout"],function(n,t){function s(t){return t===undefined?{applyBindings:!0}:n.isBoolean(t)?{applyBindings:t}:(t.applyBindings===undefined&&(t.applyBindings=!0),t)}function e(e,h,c,l){var y,a;if(!h||!c){i.throwOnErrors?n.error(r):n.log(r,h,l);return}if(!h.getAttribute){i.throwOnErrors?n.error(u):n.log(u,h,l);return}y=h.getAttribute("data-view");try{return e&&e.binding&&(a=e.binding(h)),a=s(a),i.binding(l,h,a),a.applyBindings?(n.log("Binding",y,l),t.applyBindings(c,h)):e&&t.utils.domData.set(h,o,{$data:e}),i.bindingComplete(l,h,a),e&&e.bindingComplete&&e.bindingComplete(h),t.utils.domData.set(h,f,a),a}catch(v){v.message=v.message+";\nView: "+y+";\nModuleId: "+n.getModuleId(l);i.throwOnErrors?n.error(v):n.log(v.message)}}var i,r="Insufficient Information to Bind",u="Unexpected View Type",f="durandal-binding-instruction",o="__ko_bindingContext__";return i={binding:n.noop,bindingComplete:n.noop,throwOnErrors:!1,getBindingInstruction:function(n){return t.utils.domData.get(n,f)},bindContext:function(n,t,i,r){return i&&n&&(n=n.createChildContext(i,typeof r=="string"?r:null)),e(i,t,n,i||(n?n.$data:null))},bind:function(n,t){return e(n,t,n,n)}}})